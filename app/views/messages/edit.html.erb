<%# Turbo Frame: index.html.erb の同じIDの場所を、このフォームで置換します %>
<%= turbo_frame_tag @message do %>
  <div class="flex justify-end w-full mb-4">
    <div class="w-full max-w-[80%] bg-white p-3 rounded-2xl border border-blue-200 shadow-sm">
      <%= form_with(model: [@trip, @message], local: true) do |f| %>
        <div class="flex flex-col gap-2">
          <%= f.text_area :prompt, rows: 3, class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm" %>
          
          <div class="flex justify-end gap-2">
            <%= link_to "キャンセル", trip_messages_path(@trip), class: "text-xs text-gray-500 hover:text-gray-700 py-1 px-2" %>
            <%= f.submit "保存", class: "bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded hover:bg-blue-700 cursor-pointer" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>